apiVersion: helm.toolkit.fluxcd.io/v2beta1
kind: Keycloak
metadata:
  name: keycloak
spec:
  ingress:
    enabled: false

  additionalOptions:
  - name: hostname-url
    value: https://keycloak.k3d-dev.lessingstrasse.org
  - name: proxy
    value: edge

  # http:
  #   tlsSecret: keycloak.k3d-example.lessingstrasse.org
  # hostname:
  #   hostname: keycloak.k3d-example.lessingstrasse.org

  http:
    httpEnabled: true
  hostname:
    strict: false
    strictBackchannel: false

  unsupported:
    podTemplate:
      spec:
        containers:
        - name: keycloak
          env:
          - name: KC_HTTP_RELATIVE_PATH
            value: /auth
